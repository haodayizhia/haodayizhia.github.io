[{"content":"我对我们之间感情问题的思考\n表象 我们之间的关系存在矛盾，情感出现严重透支，双方都得不到积极的反馈。\n从矛盾的因看，我重视规划和解决问题，而你更倾向于轻松的生活，更注重当下的感受。这种差异在长期关系中导致持续的摩擦，矛盾不断升级。\n彼此对事情的完成度要求是不同的。以过往争吵过的做饭事件为例，我们都认为经常点外卖不好，可以一起买菜在家做饭，分工的时候你选择做饭，理由是不喜欢洗碗，我同意。在我负责洗碗的这一块，我对自己的要求是把碗筷锅刷干净，餐桌灶台地面都清理，然后除了垃圾不一定每次都倒掉和地不一定每次都拖以外，其他我都完成了。在你负责的做饭这一块，我的诉求是时间不会太晚，实在太慢每次比上次有改进也可以，但是结果是连续多次都是在接近3点才能完成，这时候我不能忍受了，直接饭后批评你做饭太慢了，然后爆发了争吵。\n我的想法是：\n控制做饭时间的理由：太晚影响健康和胃口；晚上都在娱乐，白天可以把时间腾出来做事情； 起初做的慢，我去厨房帮忙，并提建议改进效率：比如切菜不需要切那么仔细。你感觉到压力，我在指点你做事，然后要求我出去不要干扰，我听你的出去了。 后来我暗示你做的太慢了，比如刷完碗后我说都4点了，一天基本上就做两顿饭就结束了，你不开心。 我以前在家也不做饭，所以理解你说的以前没做过，刚开始不熟练。但我认为出现问题就要主动寻求改进，比如在备菜上去提升效率，或者提前买菜开始做，只要做好的时间差不多也没人会说你慢，实在不行你也可以主动和我说你做不到在饭点把饭做好，想和我交换分工。但是都没有，或者说你想过但是做不到，总之，在一次次的重复后我失去耐心，饭后直接批评你慢。 对于这件事，吵架后你对我说的你的想法和感受：\n你做的慢，因为以前在家没有做过，这是因为我而来的改变，你已经在努力了，你的付出没有得到认同。 我指出的方式让你不能接受，我说的话没错，但是语气让你觉得被指责和贬低。 既然我有要求，不满意你的做饭时间，那就应该我来主动提出交换任务，问题应该由不满意的人处理。 我应该引导式地鼓励你，用你能接受的方式告诉你我希望你怎么做。 总之，在这次争吵过后，后面你再做饭有像我建议过的一样，提前备菜，提前做饭等开始改进，但是你的积极性也减弱了。看似解决了问题，实际上我们对彼此都有不好的印象：我觉得你做事情不主动，像在替我做；你认为我内心是对你的能力不满的。这只是后来无数次争吵的缩影，就像流程图里的循环一样，在一次次的重复中，我们之间裂痕越来越大。每次争吵看似有了结果，实则是不想继续争吵，遇到共同的事情我更愿意自己处理，同时你也觉得既然我不满你的做事结果，那就干脆依赖我。我觉得要背负很多压力，开始失去耐心，对你做事情的结果不满累积，也不尊重你的喜好，甚至到上次你去学毛笔字我都认为是做无用功。你也觉得跟我生活未来必定压力很大，处处都要改进，觉得我越来越忽视你，未来如果没有价值会被嫌弃。\n深层原因 价值观差异 我认为原生家庭条件普通更需要创造更好的生活条件，会对行为提出更高的要求。 而你不希望背负太多压力和负担。\n人格特征差异 调节焦点冲突。我属于“促进型焦点”，追求理想化自我（理想、成就、进步），对“未达成”敏感，恐惧错失机会。 你属于“防御型焦点”，维持现状安全（舒适、稳定、无风险），对“失去现有”敏感，恐惧责任压力。 这种冲突在亲密关系中会引发「动机性盲区」——我们都认为自己在保护关系中最重要的部分（我保护未来，你保护当下），却看不见对方的守护逻辑。\n分工矛盾 分工矛盾折射出更深层的角色期待错位，和责任感和主动性有关。 我把做饭视为对共同生活节奏的责任认知，希望你主动改进。 你希望得到认可和鼓励。\n我父母的不认可 同样，我父母的态度给你带来了更多精神压力。\n双方核心诉求 解决方案 ","permalink":"http://localhost:1313/posts/%E6%84%9F%E6%83%85%E7%9F%9B%E7%9B%BE/","summary":"\u003cp\u003e我对我们之间感情问题的思考\u003c/p\u003e\n\u003ch2 id=\"表象\"\u003e表象\u003c/h2\u003e\n\u003cp\u003e\u003cimg alt=\"图解\" loading=\"lazy\" src=\"/%E6%83%85%E4%BE%A3%E7%9F%9B%E7%9B%BE.svg\"\u003e\n我们之间的关系存在矛盾，情感出现严重透支，双方都得不到积极的反馈。\u003c/p\u003e\n\u003cp\u003e从矛盾的因看，我重视规划和解决问题，而你更倾向于轻松的生活，更注重当下的感受。这种差异在长期关系中导致持续的摩擦，矛盾不断升级。\u003c/p\u003e\n\u003cp\u003e彼此对事情的完成度要求是不同的。以过往争吵过的做饭事件为例，我们都认为经常点外卖不好，可以一起买菜在家做饭，分工的时候你选择做饭，理由是不喜欢洗碗，我同意。在我负责洗碗的这一块，我对自己的要求是把碗筷锅刷干净，餐桌灶台地面都清理，然后除了垃圾不一定每次都倒掉和地不一定每次都拖以外，其他我都完成了。在你负责的做饭这一块，我的诉求是时间不会太晚，实在太慢每次比上次有改进也可以，但是结果是连续多次都是在接近3点才能完成，这时候我不能忍受了，直接饭后批评你做饭太慢了，然后爆发了争吵。\u003c/p\u003e\n\u003cp\u003e我的想法是：\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e控制做饭时间的理由：太晚影响健康和胃口；晚上都在娱乐，白天可以把时间腾出来做事情；\u003c/li\u003e\n\u003cli\u003e起初做的慢，我去厨房帮忙，并提建议改进效率：比如切菜不需要切那么仔细。你感觉到压力，我在指点你做事，然后要求我出去不要干扰，我听你的出去了。\u003c/li\u003e\n\u003cli\u003e后来我暗示你做的太慢了，比如刷完碗后我说都4点了，一天基本上就做两顿饭就结束了，你不开心。\u003c/li\u003e\n\u003cli\u003e我以前在家也不做饭，所以理解你说的以前没做过，刚开始不熟练。但我认为出现问题就要主动寻求改进，比如在备菜上去提升效率，或者提前买菜开始做，只要做好的时间差不多也没人会说你慢，实在不行你也可以主动和我说你做不到在饭点把饭做好，想和我交换分工。但是都没有，或者说你想过但是做不到，总之，在一次次的重复后我失去耐心，饭后直接批评你慢。\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e对于这件事，吵架后你对我说的你的想法和感受：\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e你做的慢，因为以前在家没有做过，这是因为我而来的改变，你已经在努力了，你的付出没有得到认同。\u003c/li\u003e\n\u003cli\u003e我指出的方式让你不能接受，我说的话没错，但是语气让你觉得被指责和贬低。\u003c/li\u003e\n\u003cli\u003e既然我有要求，不满意你的做饭时间，那就应该我来主动提出交换任务，问题应该由不满意的人处理。\u003c/li\u003e\n\u003cli\u003e我应该引导式地鼓励你，用你能接受的方式告诉你我希望你怎么做。\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e总之，在这次争吵过后，后面你再做饭有像我建议过的一样，提前备菜，提前做饭等开始改进，但是你的积极性也减弱了。看似解决了问题，实际上我们对彼此都有不好的印象：我觉得你做事情不主动，像在替我做；你认为我内心是对你的能力不满的。这只是后来无数次争吵的缩影，就像流程图里的循环一样，在一次次的重复中，我们之间裂痕越来越大。每次争吵看似有了结果，实则是不想继续争吵，遇到共同的事情我更愿意自己处理，同时你也觉得既然我不满你的做事结果，那就干脆依赖我。我觉得要背负很多压力，开始失去耐心，对你做事情的结果不满累积，也不尊重你的喜好，甚至到上次你去学毛笔字我都认为是做无用功。你也觉得跟我生活未来必定压力很大，处处都要改进，觉得我越来越忽视你，未来如果没有价值会被嫌弃。\u003c/p\u003e\n\u003ch2 id=\"深层原因\"\u003e深层原因\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003e价值观差异\n我认为原生家庭条件普通更需要创造更好的生活条件，会对行为提出更高的要求。\n而你不希望背负太多压力和负担。\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e人格特征差异\n调节焦点冲突。我属于“促进型焦点”，追求理想化自我（理想、成就、进步），对“未达成”敏感，恐惧错失机会。\n你属于“防御型焦点”，维持现状安全（舒适、稳定、无风险），对“失去现有”敏感，恐惧责任压力。\n这种冲突在亲密关系中会引发「动机性盲区」——我们都认为自己在保护关系中最重要的部分（我保护未来，你保护当下），却看不见对方的守护逻辑。\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e分工矛盾\n分工矛盾折射出更深层的角色期待错位，和责任感和主动性有关。\n我把做饭视为对共同生活节奏的责任认知，希望你主动改进。\n你希望得到认可和鼓励。\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e我父母的不认可\n同样，我父母的态度给你带来了更多精神压力。\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"双方核心诉求\"\u003e双方核心诉求\u003c/h2\u003e\n\u003ch2 id=\"解决方案\"\u003e解决方案\u003c/h2\u003e","title":"感情矛盾"},{"content":" Step 1 准备工作 Step 2 配置部分 Step 3 启动服务 Appendix 附加说明 一、certbot 证书续签 手动续签 自动续签 二、其他问题 三、参考链接 Step 1 准备工作 自行购买境外VPS，推荐 AWS EC2，首次注册绑定 VISA 信用卡可免费使用一年。 什么是 AWS Free Tier？ AWS Free Tier 使客户能够在各服务的指定限制内免费探索和试用 AWS 服务。免费套餐包含三种不同类型的产品、12 个月免费试用、永久免费和短期免费试用。12 个月免费服务允许客户自账户激活之日起一年内在指定限制内免费使用该产品。永久免费服务允许 AWS 客户在指定限制内免费使用该产品。根据所选服务，短期试用服务可以在指定的时间段内免费使用，或者免费使用一次。有关免费提供的服务和相应的限制，在 Free Tier 页面的每张卡片中有详细说明。如果您的应用程序使用量超过了 Free Tier 限制，您只需支付标准的按需付费服务费率（请参阅服务页面获取完整的定价信息）。存在限制条件；有关更多详细信息，请参阅优惠条款。\n准备一个域名（推荐腾讯云、阿里云等），示例使用 example.com。\n将域名托管到 cloudflare，然后解析到服务器 IP。\nStep 2 配置部分 在服务器终端上逐条运行以下命令，请自行sudo：\n# 更新软件包列表 apt update # 安装Xray-core bash -c \u0026#34;$(curl -L https://github.com/XTLS/Xray-install/raw/main/install-release.sh)\u0026#34; @ install # 覆盖Xray-core配置 vim /usr/local/etc/xray/config.json # 安装certbot和nginx apt install certbot apt install nginx # certbot申请证书 certbot certonly # 覆盖nginx配置 vim /etc/nginx/conf.d/v2ray.conf # 替换配置中的域名 # echo -n \u0026#34;新域名：\u0026#34; # read newDomain # sed -i \u0026#34;s/example.com/$newDomain/g\u0026#34; /etc/nginx/conf.d/v2ray.conf 其中，config.json文件内容如下：\n{ \u0026#34;inbounds\u0026#34;: [{ \u0026#34;port\u0026#34;: 10086, //端口范围0至65535，请确保和nginx的端口号一致 \u0026#34;listen\u0026#34;:\u0026#34;127.0.0.1\u0026#34;, \u0026#34;protocol\u0026#34;: \u0026#34;vmess\u0026#34;, \u0026#34;settings\u0026#34;: { \u0026#34;clients\u0026#34;: [ { \u0026#34;id\u0026#34;: \u0026#34;41747268-f36b-416f-b68b-2f8e69fa472b\u0026#34;, //此处为安装时生成的id \u0026#34;level\u0026#34;: 1, \u0026#34;alterId\u0026#34;: 0 //此处为安装时生成的alterId } ] }, \u0026#34;streamSettings\u0026#34;: { \u0026#34;network\u0026#34;: \u0026#34;ws\u0026#34;, \u0026#34;wsSettings\u0026#34;: { \u0026#34;path\u0026#34;: \u0026#34;/ray\u0026#34; //此处为路径，需要和下面NGINX上面的路径配置一样 } } }], \u0026#34;outbounds\u0026#34;: [{ \u0026#34;protocol\u0026#34;: \u0026#34;freedom\u0026#34;, \u0026#34;settings\u0026#34;: {} },{ \u0026#34;protocol\u0026#34;: \u0026#34;blackhole\u0026#34;, \u0026#34;settings\u0026#34;: {}, \u0026#34;tag\u0026#34;: \u0026#34;blocked\u0026#34; }], \u0026#34;routing\u0026#34;: { \u0026#34;rules\u0026#34;: [ { \u0026#34;type\u0026#34;: \u0026#34;field\u0026#34;, \u0026#34;ip\u0026#34;: [\u0026#34;geoip:private\u0026#34;], \u0026#34;outboundTag\u0026#34;: \u0026#34;blocked\u0026#34; } ] } } v2ray.conf文件内容\nserver { listen 443 ssl; server_name example.com; # 修改为自己的域名 ssl_certificate /etc/letsencrypt/live/example.com/fullchain.pem; # 将example.com修改为自己的域名 ssl_certificate_key /etc/letsencrypt/live/example.com/privkey.pem; # 将example.com修改为自己的域名 location /ray { # 修改为你自己的路径，需要和V2RAY里面的路径一样 proxy_redirect off; proxy_pass http://127.0.0.1:10086; # 修改为你自己的v2ray服务器端口，就是这里需要和上面V2RAY配置文件里面的端口号相同。 proxy_http_version 1.1; proxy_set_header Upgrade $http_upgrade; proxy_set_header Connection \u0026#34;upgrade\u0026#34;; proxy_set_header Host $http_host; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_connect_timeout 60s; proxy_read_timeout 86400s; proxy_send_timeout 60s; } } Step 3 启动服务 # 启动/停止/查看v2ray服务 systemctl start/stop/status v2ray # 检测nginx配置是否正确 nginx -t # 启动/停止/查询nginx服务 systemctl start/stop/status nginx Appendix 附加说明 一、certbot 证书续签 certbot证书可以手动续签和自动续签，自动续签方式有两种：系统服务 systemd 或创建 crontab 周期任务。\n手动续签 sudo certbot certificates\t# 证书有效期查询 sudo systemctl stop nginx\t# 关闭nginx，解除占用端口 sudo certbot renew\t# 续签证书 sudo systemctl restart nginx\t# 重启nginx 自动续签 systemd服务单元文件 前面提到certbot默认不会在运行了systemd的系统上通过crontab自动续签，通过systemctl管理。\n# 启动/查看服务 sudo systemctl start/status certbot.service # 查看certbot服务 sudo systemctl start/status certbot.timer # 查看certbot的定时器 这两个服务的配置文件路径通常在：/lib/systemd/system/certbot.service和/lib/systemd/system/certbot.timer。\n如果启用了服务却没有自动续签，查看系统日志：\nsudo journalctl -u certbot 报错显示我是因为开启nginx占用了端口导致的，有三种修改方法：\n使用/etc/sysconfig/certbot设置 Hook（推荐） 如果/etc/sysconfig/certbot文件已在certbot-renew.service中定义为EnvironmentFile，可以直接在该文件中添加 PRE_HOOK和POST_HOOK变量。\nvim /etc/sysconfig/certbot # 添加以下内容 PRE_HOOK=\u0026#34;--pre-hook \u0026#39;systemctl stop nginx\u0026#39;\u0026#34; POST_HOOK=\u0026#34;--post-hook \u0026#39;systemctl start nginx\u0026#39;\u0026#34; certbot-renew.service中手动添加 [Unit] Description=Certbot Documentation=file:///usr/share/doc/python-certbot-doc/html/index.html Documentation=https://certbot.eff.org/docs [Service] Type=oneshot ExecStart=certbot renew --pre-hook \u0026#34;systemctl stop nginx\u0026#34; --post-hook \u0026#34;systemctl restart nginx\u0026#34; PrivateTmp=true 使用certbot renew自带的Hook目录（自行搜索） 然后重新加载systemd并生效：\nsystemctl daemon-reload systemctl start certbot.service 或者使用python3-certbot-nginx插件，见 https://www.f5.com/company/blog/nginx/using-free-ssltls-certificates-from-lets-encrypt-with-nginx。\ncrontab建立周期任务 certbot 默认配置：\n# /etc/cron.d/certbot: crontab entries for the certbot package # # Upstream recommends attempting renewal twice a day # # Eventually, this will be an opportunity to validate certificates # haven\u0026#39;t been revoked, etc. Renewal will only occur if expiration # is within 30 days. # # Important Note! This cronjob will NOT be executed if you are # running systemd as your init system. If you are running systemd, # the cronjob.timer function takes precedence over this cronjob. For # more details, see the systemd.timer manpage, or use systemctl show # certbot.timer. SHELL=/bin/sh PATH=/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin 0 */12 * * * root test -x /usr/bin/certbot -a \\! -d /run/systemd/system \u0026amp;\u0026amp; perl -e \u0026#39;sleep int(rand(43200))\u0026#39; \u0026amp;\u0026amp; certbot -q renew 如果系统运行了systemd，这里crontab不会执行！\n手动添加crontab任务：\ncrontab -e 0 0 1 */3 * sudo systemctl stop nginx \u0026amp;\u0026amp; certbot -q renew --renew-hook \u0026#34;systemctl restart nginx\u0026#34; //每隔3个月的当月第一天0分0秒执行一次 前5位表示分(0-60)、时(0-24)、天(1-30)、月(1-12)、周(0-6)。 - q表示不输出执行结果日志。\n补充：\ncrontab -l //查看当前用户周期任务 crontab -l -u root //查看root用户周期任务 cat /etc/passwd | cut -f 1 -d : | xargs -I {} crontab -l -u {} //以root用户执行，查看所有周期任务 /var/spool/cron/crontabs/ 路径下有所有用户的任务。 /etc/crontab 负责调度各种管理和维护任务。 /etc/cron.d/ 存放着要执行的crontab任务。 二、其他问题 为什么部署完成还是用不了？\ncloudflare 的 SSL/TLS 等级要改为 Full。 \u0026hellip; 三、参考链接 Xray 官方文档 Certbot 官方教程 Let\u0026rsquo;s Encrypt 与 Nginx ","permalink":"http://localhost:1313/posts/my-first-post/","summary":"\u003cul\u003e\n\u003cli\u003e\u003ca href=\"#step-1-%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C\"\u003eStep 1 准备工作\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#step-2-%E9%85%8D%E7%BD%AE%E9%83%A8%E5%88%86\"\u003eStep 2 配置部分\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#step-3-%E5%90%AF%E5%8A%A8%E6%9C%8D%E5%8A%A1\"\u003eStep 3 启动服务\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#appendix-%E9%99%84%E5%8A%A0%E8%AF%B4%E6%98%8E\"\u003eAppendix 附加说明\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"#%E4%B8%80certbot-%E8%AF%81%E4%B9%A6%E7%BB%AD%E7%AD%BE\"\u003e一、certbot 证书续签\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"#%E6%89%8B%E5%8A%A8%E7%BB%AD%E7%AD%BE\"\u003e手动续签\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#%E8%87%AA%E5%8A%A8%E7%BB%AD%E7%AD%BE\"\u003e自动续签\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#%E4%BA%8C%E5%85%B6%E4%BB%96%E9%97%AE%E9%A2%98\"\u003e二、其他问题\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#%E4%B8%89%E5%8F%82%E8%80%83%E9%93%BE%E6%8E%A5\"\u003e三、参考链接\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003ch2 id=\"step-1-准备工作\"\u003eStep 1 准备工作\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e自行购买境外VPS，推荐 \u003cstrong\u003eAWS EC2\u003c/strong\u003e，首次注册绑定 VISA 信用卡可免费使用一年。\u003c/li\u003e\n\u003c/ul\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003cstrong\u003e什么是 AWS Free Tier？\u003c/strong\u003e\nAWS Free Tier 使客户能够在各服务的指定限制内免费探索和试用 AWS 服务。免费套餐包含三种不同类型的产品、12 个月免费试用、永久免费和短期免费试用。12 个月免费服务允许客户自账户激活之日起一年内在指定限制内免费使用该产品。永久免费服务允许 AWS 客户在指定限制内免费使用该产品。根据所选服务，短期试用服务可以在指定的时间段内免费使用，或者免费使用一次。有关免费提供的服务和相应的限制，在 Free Tier 页面的每张卡片中有详细说明。如果您的应用程序使用量超过了 Free Tier 限制，您只需支付标准的按需付费服务费率（请参阅服务页面获取完整的定价信息）。存在限制条件；有关更多详细信息，请参阅优惠条款。\u003c/p\u003e\u003c/blockquote\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003e准备一个域名（推荐腾讯云、阿里云等），示例使用 \u003ccode\u003eexample.com\u003c/code\u003e。\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e将域名托管到 \u003ca href=\"https://dash.cloudflare.com/\"\u003ecloudflare\u003c/a\u003e，然后解析到服务器 IP。\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003ch2 id=\"step-2-配置部分\"\u003eStep 2 配置部分\u003c/h2\u003e\n\u003cp\u003e在服务器终端上逐条运行以下命令，请自行\u003ccode\u003esudo\u003c/code\u003e：\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c1\"\u003e# 更新软件包列表\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eapt update\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c1\"\u003e# 安装Xray-core\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003ebash -c \u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\u003cspan class=\"k\"\u003e$(\u003c/span\u003ecurl -L https://github.com/XTLS/Xray-install/raw/main/install-release.sh\u003cspan class=\"k\"\u003e)\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e @ install\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c1\"\u003e# 覆盖Xray-core配置\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003evim /usr/local/etc/xray/config.json\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c1\"\u003e# 安装certbot和nginx\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eapt install certbot\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eapt install nginx\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c1\"\u003e# certbot申请证书\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003ecertbot certonly\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c1\"\u003e# 覆盖nginx配置\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003evim /etc/nginx/conf.d/v2ray.conf\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c1\"\u003e# 替换配置中的域名\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c1\"\u003e# echo -n \u0026#34;新域名：\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c1\"\u003e# read newDomain\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c1\"\u003e# sed -i \u0026#34;s/example.com/$newDomain/g\u0026#34; /etc/nginx/conf.d/v2ray.conf\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e其中，\u003ccode\u003econfig.json\u003c/code\u003e文件内容如下：\u003c/p\u003e","title":"自动部署TLS/Xray教程简洁版"}]